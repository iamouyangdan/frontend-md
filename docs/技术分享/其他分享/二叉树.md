# 二叉树
- 什么是二叉树？

- 二叉树有什么类型？

- 二叉树有什么用？

- 具体实现

## 什么是二叉树

> 树是一种数据结构，由n个节点构成的具有层次关系的有限集合。

## 树的基本术语

- 节点：树中每个元素都是一个节点

- 节点的度：节点子树的个数

- 树的度：树中所有节点最大的度

- 叶子节点：度为0的节点（没有子节点的节点）

- 节点的层次：树的根开始，树根所在为第一层

- 有序树和无序树：子树有左右之分（如左边比右边大），反之则为无序树（例如大顶堆、小顶堆）

- ...

![](https://tcs-devops.aliyuncs.com/storage/112h9441542c2c93fb7a19c4049e03c961d1?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjVlNzQ4MmQ2MjE1MjJiZDVjN2Y5YjMzNSIsIl9hcHBJZCI6IjVlNzQ4MmQ2MjE1MjJiZDVjN2Y5YjMzNSIsIl9vcmdhbml6YXRpb25JZCI6IiIsImV4cCI6MTY1MjUwMTU1NywiaWF0IjoxNjUxODk2NzU3LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzExMmg5NDQxNTQyYzJjOTNmYjdhMTljNDA0OWUwM2M5NjFkMSJ9.oYV8qZFULzVoEPOnuNXQdEFQnEb7bmOscIKh0R84_uQ&download=%E6%A0%91.md52.1519652.png "")

- 上图中 `A 、B、...`都为节点

- 其中节点 `A、B、C`的度为2，`D`节点的度为1，`H、E、F、G`节点的度为0

- 树的度为2

- `H、E、F、G`为叶子节点

- 其中节点 `H`为第4层，`B`为第二层

## 树的特点

- 子树不相交

- 除根节点外，所有节点都有且仅有一个父节点

- 由 `N`个节点构成的树只有 `N-1`条边

## 二叉树的定义

> 所有节点的度不超过2的有序树

### 二叉树的特点

- 二叉树中，第`i`层的节点最多为$ 2^{i-1}$个

- 深度为 `k`的二叉树，最多 $ 2^k-1$个节点

- 对任意的二叉树，叶子节点数量总比度为2的节点多一个

> 证明：

> 设度为0、1、2的节点个数分别为$ n_0、n_1、n_2$，共$n$个节点

> 因为二叉树所有节点的度不超过2，所以

> n=n0​+n1​+n2​

> 因为总节点数等于子节点总数加跟节点，所以

> 

> $$

> n = 0 * n_0 + 1 * n_1 + 2 * n_2 + 1 \\

> n = n_1 + 2n_2 + 1 \\

> n_0 + n_1 + n_2 = n_1 + 2n_2 + 1 \\

> n_0 = n_2 + 1

> $$

## 二叉树有什么类型

## 满二叉树

> 二叉树中除了叶子节点，每个节点的度都为2，则此二叉树为满二叉树

![](https://tcs-devops.aliyuncs.com/storage/112h24db0023affa4ce604603925502e31f0?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjVlNzQ4MmQ2MjE1MjJiZDVjN2Y5YjMzNSIsIl9hcHBJZCI6IjVlNzQ4MmQ2MjE1MjJiZDVjN2Y5YjMzNSIsIl9vcmdhbml6YXRpb25JZCI6IiIsImV4cCI6MTY1MjUwMTU1NywiaWF0IjoxNjUxODk2NzU3LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzExMmgyNGRiMDAyM2FmZmE0Y2U2MDQ2MDM5MjU1MDJlMzFmMCJ9.8Gh1kz5Qf91RWN1Ol_Dsr4kp86cy-FmjnF0B73aIpO0&download=%E6%A0%91.md103.2095222.png "")

### 附加性质

- 满二叉树中第 `i`层的节点数为$ 2^{n-1} $个

- 深度为 `k`的满二叉树必有$ 2^k - 1 $个节点，叶子节点树为$ 2^{k-1} $

- 满二叉树中不存在度为 1 的节点，每一个分支点中都两棵深度相同的子树，且叶子节点都在最底层

- 具有 `n` 个节点的满二叉树的深度为$ log_2 (n+1) $。

## 完全二叉树

> 二叉树中除去最后一层节点为满二叉树，且最后一层的结点依次从左到右分布

![](https://tcs-devops.aliyuncs.com/storage/112h593fc40ea9a369f125167ebf54ecc9e3?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjVlNzQ4MmQ2MjE1MjJiZDVjN2Y5YjMzNSIsIl9hcHBJZCI6IjVlNzQ4MmQ2MjE1MjJiZDVjN2Y5YjMzNSIsIl9vcmdhbml6YXRpb25JZCI6IiIsImV4cCI6MTY1MjUwMTU1NywiaWF0IjoxNjUxODk2NzU3LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzExMmg1OTNmYzQwZWE5YTM2OWYxMjUxNjdlYmY1NGVjYzllMyJ9.vFdOcYLbgTLvuPxMPjZfcLixgLMHZF77VrUR2FVKTMc&download=%E6%A0%91.md128.3661603.png "")

### 附加性质

- `n`个节点的完全二叉树深度为$ \lfloor log_2n \rfloor + 1 $

## ...

## 二叉树有什么用

- 排序

- 搜索

- ...

## 搜索

> 约定：任一节点比其左节点大，比其右节点小

> 在上述约定下，二叉查找树的查找性能比链表高，一般有$ n $个节点的二叉查找树，其查找时间复杂度为$ O(log_2n) $

### 二叉树的查找操作

> 在二叉查找树中查找 N ，首先从根节点开始，将根节点设置为当前节点，若当前节点为空，则查找失败，若 N 与当前节点值相等，返回当前节点，若 N 大于当前节点值，则从当前节点的右子节点开始查找，否则从当前节点的左子节点开始查找，直到返回目标节点或者查找失败；

![](https://tcs-devops.aliyuncs.com/storage/112h37933378f39a8de2378f374ce26326cc?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjVlNzQ4MmQ2MjE1MjJiZDVjN2Y5YjMzNSIsIl9hcHBJZCI6IjVlNzQ4MmQ2MjE1MjJiZDVjN2Y5YjMzNSIsIl9vcmdhbml6YXRpb25JZCI6IiIsImV4cCI6MTY1MjUwMTU1NywiaWF0IjoxNjUxODk2NzU3LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzExMmgzNzkzMzM3OGYzOWE4ZGUyMzc4ZjM3NGNlMjYzMjZjYyJ9.LNT4gtJ7U7ORiu3i28o6NSNO-4WwBshEcErKFXxQiqs&download=16f2d76b4aa18bba_tplv-t2oaga2asx-zoom-in-crop-mark_1304_0_0_0.webp "")

> 如下图在二叉查找树中查找目标 8 ，查找路径依次为 ⑨ --> ⑥ --> ⑦ --> ⑧

![](https://tcs-devops.aliyuncs.com/storage/112hb0e6531341d472658c1b6323a5d5177e?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjVlNzQ4MmQ2MjE1MjJiZDVjN2Y5YjMzNSIsIl9hcHBJZCI6IjVlNzQ4MmQ2MjE1MjJiZDVjN2Y5YjMzNSIsIl9vcmdhbml6YXRpb25JZCI6IiIsImV4cCI6MTY1MjUwMTU1NywiaWF0IjoxNjUxODk2NzU3LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzExMmhiMGU2NTMxMzQxZDQ3MjY1OGMxYjYzMjNhNWQ1MTc3ZSJ9.zKybX3Sm61Hf-UDP0nKL31N0ffUrciODzyYcbSItGNs&download=16f2d76b4a08bd02_tplv-t2oaga2asx-zoom-in-crop-mark_1304_0_0_0.webp "")

### 二叉树的构建

- 根据查找操作找到最合适的节点

- 在最合适的节点左边或右边插入

![](https://tcs-devops.aliyuncs.com/storage/112h4926c0f083529afe13c78d8406f50f01?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjVlNzQ4MmQ2MjE1MjJiZDVjN2Y5YjMzNSIsIl9hcHBJZCI6IjVlNzQ4MmQ2MjE1MjJiZDVjN2Y5YjMzNSIsIl9vcmdhbml6YXRpb25JZCI6IiIsImV4cCI6MTY1MjUwMTU1NywiaWF0IjoxNjUxODk2NzU3LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzExMmg0OTI2YzBmMDgzNTI5YWZlMTNjNzhkODQwNmY1MGYwMSJ9.QWRHpT414xn1vghFOjc9sux0CVda6slEDaOoxnS-96M&download=16f2d76bb15a4123_tplv-t2oaga2asx-zoom-in-crop-mark_1304_0_0_0.webp "")

> 插入顺序为1、2、3、4、5

![](https://tcs-devops.aliyuncs.com/storage/112ha033d883747a3ae90cc4ec4850f9fca6?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjVlNzQ4MmQ2MjE1MjJiZDVjN2Y5YjMzNSIsIl9hcHBJZCI6IjVlNzQ4MmQ2MjE1MjJiZDVjN2Y5YjMzNSIsIl9vcmdhbml6YXRpb25JZCI6IiIsImV4cCI6MTY1MjUwMTU1NywiaWF0IjoxNjUxODk2NzU3LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzExMmhhMDMzZDg4Mzc0N2EzYWU5MGNjNGVjNDg1MGY5ZmNhNiJ9.g2l-6ubxuDpXrIYb7qObId5tflvepmwNBLZgo_TS8c8&download=%E6%A0%91.md1075.1179506.png "")

### 自平衡树

> 普通的二叉树查找树在构建时容易退化成链表，即不平衡二叉树，这样在增删查时无法彰显优势

进一步优化二叉查找树让其变成平衡二叉树，增加约定

> 

1. 所有节点的左右子树高度差不超过1

1. 当左子树比右子树高2个及以上高度时，右旋



![](https://tcs-devops.aliyuncs.com/storage/112h7e6f3ab9d8a94ae2449532bb8ab95e92?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjVlNzQ4MmQ2MjE1MjJiZDVjN2Y5YjMzNSIsIl9hcHBJZCI6IjVlNzQ4MmQ2MjE1MjJiZDVjN2Y5YjMzNSIsIl9vcmdhbml6YXRpb25JZCI6IiIsImV4cCI6MTY1MjUwMTU1NywiaWF0IjoxNjUxODk2NzU3LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzExMmg3ZTZmM2FiOWQ4YTk0YWUyNDQ5NTMyYmI4YWI5NWU5MiJ9.VjUr9ElIRthS9vuyppmb69DEdu3Ewj3hrhmkkuLxSis&download=16f2d76b54818e52_tplv-t2oaga2asx-zoom-in-crop-mark_1304_0_0_0.webp "")

1. 当右子树比左子树高2个及以上高度时，左旋

![](https://tcs-devops.aliyuncs.com/storage/112hae3b7f3bb1efcd65651a9d9a19de733d?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjVlNzQ4MmQ2MjE1MjJiZDVjN2Y5YjMzNSIsIl9hcHBJZCI6IjVlNzQ4MmQ2MjE1MjJiZDVjN2Y5YjMzNSIsIl9vcmdhbml6YXRpb25JZCI6IiIsImV4cCI6MTY1MjUwMTU1NywiaWF0IjoxNjUxODk2NzU3LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzExMmhhZTNiN2YzYmIxZWZjZDY1NjUxYTlkOWExOWRlNzMzZCJ9.zkBa-yBKa8wXQVnPU8l5cgf5QabYmaLk2BL6WoWsNQI&download=16f2d76b4c640506_tplv-t2oaga2asx-zoom-in-crop-mark_1304_0_0_0.webp "")

对插入顺序为1、2、3、4、5，其二叉树如下图

![](https://tcs-devops.aliyuncs.com/storage/112he1a28f5635171e67877dd595a425bdae?Signature=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBcHBJRCI6IjVlNzQ4MmQ2MjE1MjJiZDVjN2Y5YjMzNSIsIl9hcHBJZCI6IjVlNzQ4MmQ2MjE1MjJiZDVjN2Y5YjMzNSIsIl9vcmdhbml6YXRpb25JZCI6IiIsImV4cCI6MTY1MjUwMTU1NywiaWF0IjoxNjUxODk2NzU3LCJyZXNvdXJjZSI6Ii9zdG9yYWdlLzExMmhlMWEyOGY1NjM1MTcxZTY3ODc3ZGQ1OTVhNDI1YmRhZSJ9.t2kWoDq9mW1erkUu57Jmkof9lJuoA821YhRKj5HkfGA&download=%E6%A0%91.md3474.0693591.png "")



## 参考













